!function(s){s.sifs={containerSelector:".sifs-container",postSelector:".sifs-post",paginationSelector:".sifs-pagination",nextSelector:"a.sifs-next",loadingHtml:"Loading...",show:function(s){s.show()},nextPageUrl:null,init:function(e){for(var i in e)s.sifs[i]=e[i];s(function(){s.sifs.extractNextPageUrl(s("body")),s(window).bind("scroll",s.sifs.scroll),s.sifs.scroll()})},scroll:function(){s.sifs.nearBottom()&&s.sifs.shouldLoadNextPage()&&s.sifs.loadNextPage()},nearBottom:function(){var e=s(window).scrollTop(),i=s(window).height(),t=s(s.sifs.containerSelector).find(s.sifs.postSelector).last().offset().top;return e>t-i},shouldLoadNextPage:function(){return!!s.sifs.nextPageUrl},loadNextPage:function(){var e=s.sifs.nextPageUrl;s.sifs.nextPageUrl=null,s(s.sifs.containerSelector).append('<div class="wpifs-loading">'+s.sifs.loadingHtml+"</div>"),s.get(e,function(e){var i=s(e),t=i.find(s.sifs.containerSelector).find(s.sifs.postSelector);s(".wpifs-loading").remove(),s.sifs.show(t.hide().appendTo(s.sifs.containerSelector)),s.sifs.extractNextPageUrl(i),s.sifs.scroll()})},extractNextPageUrl:function(e){var i=e.find(s.sifs.paginationSelector);s.sifs.nextPageUrl=i.find(s.sifs.nextSelector).attr("href"),i.remove()}}}(jQuery);
