!function(e){e.sifs={containerSelector:".sifs-container",postSelector:".sifs-post",paginationSelector:".sifs-pagination",nextSelector:"a.sifs-next",loadingHtml:"Loading...",show:function(e){e.show()},nextPageUrl:null,init:function(s){for(var t in s)e.sifs[t]=s[t];e(function(){e.sifs.extractNextPageUrl(e("body")),e(window).bind("scroll",e.sifs.scroll),e.sifs.scroll()})},scroll:function(){e.sifs.nearBottom()&&e.sifs.shouldLoadNextPage()&&e.sifs.loadNextPage()},nearBottom:function(){var s=e(window).scrollTop(),t=e(window).height(),o=e(e.sifs.containerSelector).find(e.sifs.postSelector).last().offset();if(o)return s>o.top-t},shouldLoadNextPage:function(){return!!e.sifs.nextPageUrl},loadNextPage:function(){var s=e.sifs.nextPageUrl,t=e(e.sifs.loadingHtml);e.sifs.nextPageUrl=null,t.appendTo(e.sifs.containerSelector),e.get(s,function(s){var o=e(s),i=o.find(e.sifs.containerSelector).find(e.sifs.postSelector);t.remove(),e.sifs.show(i.hide().appendTo(e.sifs.containerSelector)),e.sifs.extractNextPageUrl(o),e.sifs.scroll()})},extractNextPageUrl:function(s){var t=s.find(e.sifs.paginationSelector);e.sifs.nextPageUrl=t.find(e.sifs.nextSelector).attr("href"),t.remove()}}}(jQuery);
