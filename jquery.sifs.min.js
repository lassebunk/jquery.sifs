!function(e){e.sifs={containerSelector:".sifs-container",postSelector:".sifs-post",paginationSelector:".sifs-pagination",nextSelector:"a.sifs-next",loadingHtml:"Loading...",nextPageUrl:null,init:function(s){for(var i in s)e.sifs[i]=s[i];e(function(){e.sifs.extractNextPageUrl(e("body")),e(window).bind("scroll",e.sifs.scroll),e.sifs.scroll()})},scroll:function(){e.sifs.nearBottom()&&e.sifs.shouldLoadNextPage()&&e.sifs.loadNextPage()},nearBottom:function(){var s=e(window).scrollTop(),i=e(window).height(),t=e(e.sifs.containerSelector).find(e.sifs.postSelector).last().offset().top;return s>t-i},shouldLoadNextPage:function(){return!!e.sifs.nextPageUrl},loadNextPage:function(){var s=e.sifs.nextPageUrl;e.sifs.nextPageUrl=null,e(e.sifs.containerSelector).append('<div class="wpifs-loading">'+e.sifs.loadingHtml+"</div>"),e.get(s,function(s){var i=e(s),t=i.find(e.sifs.containerSelector).find(e.sifs.postSelector);e(".wpifs-loading").remove(),t.hide().appendTo(e.sifs.containerSelector).fadeIn(700),e.sifs.extractNextPageUrl(i),e.sifs.scroll()})},extractNextPageUrl:function(s){var i=s.find(e.sifs.paginationSelector);e.sifs.nextPageUrl=i.find(e.sifs.nextSelector).attr("href"),i.remove()}}}(jQuery);
